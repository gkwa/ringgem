version: "3"
options:
  output: prefixed
tasks:
  need-to-fix:
    cmds:
    - task: install-docker-in-incus-container
  northflier-buggy:
    cmds:
    - task: northflier
    - install-onejuly-on-linux
  northflier-with-dep-order:
    cmds:
    - task: run-kindsealion-on-linux
    - task: install-docker-on-linux
  northflier:
    cmds:
    - task: wait-for-cloud-init
    - task: apt-yum-update
    - task: install-awscli-on-linux
    - task: install-ansible-on-ubuntu
    - task: install-boilerplate-on-linux-and-macos
    - task: install-cakepalm-on-ubuntu
    - task: install-cloudelf-on-linux
    - task: install-cloudwatch-on-ubuntu
    - task: install-devbox-on-linux
    - task: install-elasticsearch-on-ubuntu
    - task: install-fluentd-on-ubuntu
    - task: install-fullbus-on-linux
    - task: install-gcc-on-linux-using-homebrew
    - task: install-golang-build-tools
    - task: install-golang-from-tar
    - task: install-goldpuppy-on-ubuntu
    - task: install-homebrew-on-linux
    - task: install-incus-on-linux
    - task: install-jj-on-linux-using-cargo
    - task: install-jless-using-homebrew
    - task: install-needrestart-on-linux
    - task: install-otel-cli-on-linux
    - task: install-packer-on-linux
    - task: install-restic-on-linux
    - task: install-ringgem-testing-on-linux
    - task: install-ripgrep-on-linux
    - task: install-rye-on-linux
    - task: install-silverdelay-on-linux
    - task: install-sops-on-linux
    - task: install-terragrunt-on-ubuntu
    - task: install-tofu-on-ubuntu
    - task: install-toml-cli-on-linux
    - task: install-txtar-on-ubuntu
    - task: install-ytt-on-linux-using-homebrew
    - task: northflier-with-dep-order
    - task: upgrade-bash-completion-on-linux
    - task: install-mlocate-on-linux
    - task: lxc-configure-on-ubuntu
    - task: install-package-upgrades-on-ubuntu
  follow-cilium-gateway-tutorial:
    deps:
    - install-cilium-on-linux
    - install-docker-on-linux
    - install-helm-on-linux
    - install-k9s-on-ubuntu
    - install-kind-on-linux
    - install-kubectl-on-linux
  install-restic-on-linux:
    cmds:
    - bash -eux install-restic-on-linux.sh
    status:
    - command -v restic &>/dev/null
  install-ringgem-testing-on-linux:
    deps:
    - install-mythai-on-linux
    - install-eachit-on-linux
    status:
    - command -v mythai &>/dev/null
    - command -v eachit &>/dev/null
  check-for-python:
    cmds:
    - python3 --version >/dev/null
  install-mythai-on-linux:
    cmds:
    - bash -eux install-mythai-on-linux.sh
    deps:
    - check-for-python
    - install-pip3-on-linux
    status:
    - command -v mythai &>/dev/null
  install-nix-on-linux:
    cmds:
    - task: install-xz-utils-on-linux
    - bash -eux install-nix-on-linux.sh
    deps:
    - install-jq-on-linux
    - install-curl-on-linux
    status:
    - test -d /nix/var/nix/profiles/default/etc
  install-eachit-on-linux:
    cmds:
    - bash -eux install-eachit-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v eachit &>/dev/null
  wait-for-cloud-init:
    cmds:
    - bash -eux wait-for-cloud-init.sh
  install-btrfs-progs-on-linux:
    cmds:
    - bash -eux install-btrfs-progs-on-linux.sh
    deps:
    - install-incus-on-linux
    status:
    - command -v btrfs &>/dev/null
  install-docker-in-incus-container:
    run: once
    cmds:
    - bash -eux install-docker-in-incus-container.sh
    deps:
    - install-incus-on-linux
    - install-btrfs-progs-on-linux
  install-devbox-on-linux:
    cmds:
    - bash -eux install-devbox-on-linux.sh
    deps:
    - install-nix-on-linux
    status:
    - command -v devbox >/dev/null
  install-cargo-binstall-on-linux-using-cargo:
    cmds:
    - bash -eux install-cargo-binstall-on-linux-using-cargo.sh
    deps:
    - install-cargo-on-linux
    status:
    - cargo binstall --help >/dev/null
  install-jj-on-linux-using-cargo:
    cmds:
    - bash -eux install-jj-on-linux-using-cargo.sh
    deps:
    - install-cargo-binstall-on-linux-using-cargo
    status:
    - command -v jj >/dev/null
  install-cargo-on-linux:
    cmds:
    - bash -eux install-cargo-on-linux.sh
    status:
    - command -v cargo >/dev/null
    deps:
    - install-curl-on-linux
  install-gpg-on-linux:
    cmds:
    - bash -eux install-gpg-on-linux.sh
    status:
    - command -v gpg >/dev/null
  install-golang-build-tools:
    cmds:
    - task: install-golangci-lint-on-linux-using-homebrew
    - task: install-gofumpt-on-linux-using-go
    status:
    - command -v gofumpt &>/dev/null
    - '[[ -d /home/linuxbrew/.linuxbrew/Cellar/golangci-lint/ ]]'
  install-golangci-lint-on-linux-using-go:
    cmds:
    - bash -eux install-golangci-lint-on-linux-using-go.sh
    deps:
    - install-golang-from-tar
    status:
    - command -v golangci-lint &>/dev/null
  install-golangci-lint-on-linux-using-homebrew:
    cmds:
    - bash -eux install-golangci-lint-on-linux-using-homebrew.sh
    deps:
    - install-homebrew-on-linux
    status:
    - command -v golangci-lint &>/dev/null
  install-otel-collector-on-linux:
    cmds:
    - bash -eux install-otel-collector-on-linux.sh
    deps:
    - install-curl-on-linux
    - install-jq-on-linux
    status:
    - command -v gofumpt &>/dev/null
    - command -v jq &>/dev/null
  install-gofumpt-on-linux-using-go:
    cmds:
    - bash -eux install-gofumpt-on-linux-using-go.sh
    deps:
    - install-golang-from-tar
    status:
    - command -v gofumpt &>/dev/null
  install-gcc-on-linux-using-homebrew:
    cmds:
    - bash -eux install-gcc-on-linux-using-homebrew.sh
    deps:
    - install-homebrew-on-linux
    status:
    - '[[ -d /home/linuxbrew/.linuxbrew/Cellar/gcc/ ]]'
  install-ytt-on-linux-using-homebrew:
    cmds:
    - bash -eux install-ytt-on-linux-using-homebrew.sh
    deps:
    - install-homebrew-on-linux
    status:
    - find -L /home/linuxbrew/.linuxbrew/bin/ytt >/dev/null
  install-needrestart-on-linux:
    cmds:
    - bash -eux install-needrestart-on-linux.sh
    status:
    - command -v needrestart &>/dev/null
  install-tofu-on-ubuntu:
    cmds:
    - bash -eux install-tofu-on-ubuntu.sh
    deps:
    - install-homebrew-on-linux
    status:
    - find -L /home/linuxbrew/.linuxbrew/bin/tofu >/dev/null
  install-incus-on-linux:
    cmds:
    - sudo bash -eux install-incus-on-linux.sh
    status:
    - command -v incus >/dev/null
    deps:
    - install-gpg-on-linux
    - install-curl-on-linux
  install-txtar-on-ubuntu:
    cmds:
    - sudo bash -eux install-txtar-on-ubuntu.sh
    deps:
    - apt-yum-update
    status:
    - command -v txtar-x >/dev/null
  install-packer-on-linux:
    cmds:
    - sudo bash -eux install-packer-on-linux.sh
    status:
    - command -v packer >/dev/null
    deps:
    - install-curl-on-linux
    - install-unzip-on-linux
  install-toml-cli-on-linux:
    cmds:
    - sudo bash -eux install-toml-cli-on-linux.sh
    deps:
    - install-curl-on-linux
    - install-jq-on-linux
    status:
    - command -v toml >/dev/null
  install-apt-utils-on-ubuntu:
    cmds:
    - sudo bash -eux install-apt-utils-on-ubuntu.sh
    deps:
    - apt-yum-update
  install-package-upgrades-on-ubuntu:
    cmds:
    - sudo bash -eux install-package-upgrades-on-ubuntu.sh
    - mylime touch package-upgrades
    deps:
    - apt-yum-update
    status:
    - '! mylime newerthan 1h package-upgrades'
  install-elasticsearch-on-ubuntu:
    cmds:
    - task: apt-yum-update
    - task: install-elastic-ppa8-on-ubuntu
    - task: install-logstash-on-ubuntu
    - task: install-filebeat-on-ubuntu
    - sudo bash -eux install-elasticsearch-on-ubuntu.sh
    status:
    - test -x /usr/share/elasticsearch/bin/elasticsearch-cli
  install-wakemeops-on-ubuntu:
    cmds:
    - sudo bash -eux install-wakemeops-on-ubuntu.sh
    deps:
    - install-curl-on-linux
    status:
    - test -f /etc/apt/sources.list.d/wakemeops.list
  install-kibana-on-ubuntu:
    cmds:
    - task: apt-yum-update
    - sudo bash -eux install-kibana-on-ubuntu.sh
    deps:
    - install-logstash-on-ubuntu
    status:
    - test -x /usr/share/kibana/bin/kibana-setup
  install-syncthing-on-ubuntu:
    cmds:
    - sudo bash -eux install-syncthing-on-ubuntu.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v syncthing >/dev/null
  install-glab-on-linux:
    cmds:
    - sudo bash -eux install-glab-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v glab >/dev/null
  install-onejuly-on-linux:
    cmds:
    - task: install-git-on-linux
    - task: install-incus-on-linux
    - task: install-jq-on-linux
    - sudo bash -eux install-onejuly-on-linux.sh
    deps:
    - install-boilerplate-on-linux-and-macos
    status:
    - '[[ -d onejuly ]]'
  install-fullbus-on-linux:
    cmds:
    - sudo bash -eux install-fullbus-on-linux.sh
    deps:
    - install-git-on-linux
    - install-pip3-on-linux
    status:
    - command -v fullbus >/dev/null
  install-boilerplate-on-linux-and-macos:
    cmds:
    - sudo bash -eux install-boilerplate-on-linux-and-macos.sh
    deps:
    - install-curl-on-linux
    - install-jq-on-linux
    status:
    - command -v boilerplate >/dev/null
  install-rye-on-linux:
    cmds:
    - sudo bash -eux install-rye-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v rye >/dev/null
  install-otel-cli-on-linux:
    cmds:
    - sudo bash -eux install-otel-cli-on-linux.sh
    deps:
    - install-curl-on-linux
    - install-tar-on-linux
    - install-jq-on-linux
    status:
    - command -v otel-cli >/dev/null
  install-dolt-on-linux-using-brew:
    cmds:
    - bash install-dolt-on-linux-using-brew.sh
    deps:
    - install-homebrew-on-linux
  install-ansible-on-ubuntu:
    cmds:
    - sudo bash -eux install-ansible-on-ubuntu.sh
    deps:
    - install-pip3-on-linux
    status:
    - $HOME/.local/bin/ansible --version >/dev/null
  install-lxc-on-ubuntu:
    cmds:
    - sudo bash -eux install-lxc-on-ubuntu.sh
    deps:
    - apt-yum-update
    status:
    - command -v lxc >/dev/null
    - command -v lxc-wait >/dev/null
  lxc-configure-on-ubuntu:
    cmds:
    - sudo bash -eux lxc-configure-on-ubuntu.sh
    status:
    - 'grep --quiet "pool: default" <<< "$(lxc profile show default)"'
    deps:
    - install-lxc-on-ubuntu
  bash-customize-kubectl-on-linux:
    cmds:
    - sudo bash -eux bash-customize-kubectl-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - grep --quiet "alias k=kubectl" ~/.profile
  install-awscli-on-linux:
    cmds:
    - task: install-unzip-on-linux
    - task: install-curl-on-linux
    - sudo bash -eux install-awscli-on-linux.sh
    status:
    - aws --version >/dev/null
  install-homebrew-on-linux:
    cmds:
    - sudo bash -eux install-homebrew-on-linux.sh
    deps:
    - apt-yum-update
    - install-curl-on-linux
    - install-git-on-linux
    status:
    - test -x /home/linuxbrew/.linuxbrew/bin/brew
  install-cilium-hubble-on-linux:
    cmds:
    - sudo bash -eux install-cilium-hubble-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v hubble &>/dev/null
  install-fluentd-on-ubuntu:
    cmds:
    - sudo bash -eux install-fluentd-on-ubuntu.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v fluentd >/dev/null
  install-cloudwatch-on-ubuntu:
    cmds:
    - sudo bash -eux install-cloudwatch-on-ubuntu.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v fluentd >/dev/null
  install-cilium-on-linux:
    cmds:
    - sudo bash -eux install-cilium-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v cilium &>/dev/null
  install-cloudelf-on-linux:
    cmds:
    - sudo bash -eux install-cloudelf-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v cloudelf &>/dev/null
  install-cloudeagle-on-linux:
    cmds:
    - sudo bash -eux install-cloudeagle-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v cloudeagle >/dev/null
  install-clusterawsadm-on-linux:
    cmds:
    - sudo bash -eux install-clusterawsadm-on-linux.sh
    deps:
    - install-homebrew-on-linux
    - install-curl-on-linux
    status:
    - command -v clusterawsadm &>/dev/null
  install-clusterctl-on-linux:
    cmds:
    - sudo bash -eux install-clusterctl-on-linux.sh
    deps:
    - install-jq-on-linux
    status:
    - clusterctl version >/dev/null
  install-java-jre-on-ubuntu:
    cmds:
    - sudo bash -eux install-java-jre-on-ubuntu.sh
    deps:
    - apt-yum-update
    status:
    - java -version >/dev/null
  install-java-jdk-on-ubuntu:
    cmds:
    - sudo bash -eux install-java-jdk-on-ubuntu.sh
    status:
    - javac -version >/dev/null
  install-elastic-ppa8-on-ubuntu:
    cmds:
    - sudo bash -eux install-elastic-ppa8-on-ubuntu.sh
    status:
    - test -f /etc/apt/sources.list.d/elastic-8.x.list
    deps:
    - install-wget-on-linux
  install-logstash-on-ubuntu:
    cmds:
    - task: install-elastic-ppa8-on-ubuntu
    - task: install-java-jre-on-ubuntu
    - task: install-java-jdk-on-ubuntu
    - sudo bash -eux install-logstash-on-ubuntu.sh
    status:
    - logstash --version >/dev/null
    deps:
    - install-curl-on-linux
  install-cnspec-on-ubuntu:
    cmds:
    - sudo bash -eux install-cnspec-on-ubuntu.sh
    deps:
    - install-jq-on-linux
    status:
    - command -v cnquery >/dev/null
    - command -v cnspec >/dev/null
  install-filebeat-on-ubuntu:
    cmds:
    - sudo bash -eux install-filebeat-on-ubuntu.sh
    deps:
    - install-curl-on-linux
    status:
    - filebeat version >/dev/null
  install-filebeat-on-windows:
    cmds:
    - powershell -File install-filebeat-on-windows.ps1
    status:
    - filebeat version | Out-Null
  install-goldpuppy-on-windows:
    cmds:
    - powershell -File install-goldpuppy-on-windows.ps1
    status:
    - goldpuppy --help | Out-Null
  install-goldpuppy-on-ubuntu:
    deps:
    - install-curl-on-linux
    cmds:
    - sudo bash -eux install-goldpuppy-on-ubuntu.sh
    status:
    - goldpuppy --help >/dev/null
  upgrade-bash-completion-on-linux:
    deps:
    - apt-yum-update
    cmds:
    - sudo bash -eux install-bash-completion-on-linux.sh
    status:
    - |
      set -e
      set -u

      compareto_version="1:2.10-1ubuntu1"
      current_version=$(dpkg-query -W -f='${Version}' bash-completion)
      if dpkg --compare-versions "$current_version" ge "$compareto_version"; then
        echo "bash-completion version $current_version is greater than or equal to $compareto_version"
      else
        echo "bash-completion version $current_version is less than $compareto_version"
      fi
  install-bash-completion-on-linux:
    deps:
    - apt-yum-update
    cmds:
    - sudo bash -eux install-bash-completion-on-linux.sh
    - task: upgrade-bash-completion-on-linux
    status:
    - '[[ -d /usr/share/bash-completion/completions/ ]]'
  install-mylime-on-linux:
    cmds:
    - sudo bash -eux install-mylime-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v mylime &>/dev/null
  install-docker-on-linux:
    cmds:
    - sudo bash -eux install-docker-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - docker --version >/dev/null
  install-dulltrader-on-linux:
    cmds:
    - sudo bash -eux install-dulltrader-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v dulltrader >/dev/null
  install-envsubst-on-linux:
    cmds:
    - sudo bash -eux install-envsubst-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v envsubst >/dev/null
  install-fogcrow-on-linux:
    cmds:
    - sudo bash -eux install-fogcrow-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v fogcrow >/dev/null
  install-go-task-bash-completion-on-linux:
    cmds:
    - sudo bash -eux install-go-task-bash-completion-on-linux.sh
    deps:
    - install-bash-completion-on-linux
    - install-curl-on-linux
    status:
    - test -s /usr/share/bash-completion/completions/task
  install-giantcloak-on-linux:
    cmds:
    - sudo bash -eux install-giantcloak-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v giantcloak >/dev/null
  install-git-on-linux:
    cmds:
    - sudo bash -eux install-git-on-linux.sh
    status:
    - command -v git &>/dev/null
  install-go-task-on-linux:
    cmds:
    - sudo bash -eux install-go-task-on-linux.sh
    - task: install-go-task-bash-completion-on-linux
    deps:
    - task: install-go-task-bash-completion-on-linux
    - install-curl-on-linux
    status:
    - task --version >/dev/null
  install-tar-on-linux:
    cmds:
    - sudo bash -eux install-tar-on-linux.sh
    status:
    - tar --version >/dev/null
  install-golang-from-tar:
    cmds:
    - sudo bash -eux install-golang-from-tar.sh
    deps:
    - install-curl-on-linux
    status:
    - test -x /usr/local/go/bin/go
  install-xz-utils-on-linux:
    cmds:
    - sudo bash -eux install-xz-utils-on-linux.sh
    deps:
    - apt-yum-update
    status:
    - command -v xz &>/dev/null
  install-goreleaser-on-linux:
    cmds:
    - sudo bash -eux install-goreleaser-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - goreleaser --version >/dev/null
  install-helm-on-linux:
    cmds:
    - sudo bash -eux install-helm-on-linux.sh
    deps:
    - install-jq-on-linux
    status:
    - command -v helm &>/dev/null
  install-irisqueen-on-linux:
    cmds:
    - sudo bash -eux install-irisqueen-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - test -x /usr/local/bin/irisqueen
  install-unzip-on-linux:
    cmds:
    - sudo bash -eux install-unzip-on-linux.sh
    deps:
    - apt-yum-update
    status:
    - command -v unzip >/dev/null
  install-jless-on-ubuntu:
    cmds:
    - task: install-jq-on-linux
    - task: install-unzip-on-linux
    - sudo bash -eux install-jless-on-ubuntu.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v jless >/dev/null
  install-jless-using-homebrew:
    cmds:
    - sudo bash -eux install-jless-using-homebrew.sh
    deps:
    - install-homebrew-on-linux
    status:
    - '[[ -d /home/linuxbrew/.linuxbrew/Cellar/jless/ ]]'
  install-cakepalm-on-ubuntu:
    cmds:
    - sudo bash -eux install-cakepalm-on-ubuntu.sh
    deps:
    - apt-yum-update
    - install-unzip-on-linux
    - install-curl-on-linux
    status:
    - command -v cakepalm >/dev/null
  install-jq-on-linux:
    cmds:
    - task: apt-yum-update
    - sudo bash -eux install-jq-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v jq >/dev/null
  install-k9s-on-ubuntu:
    cmds:
    - sudo bash -eux install-k9s-on-ubuntu.sh
    deps:
    - install-curl-on-linux
    - install-jq-on-linux
    status:
    - command -v k9s &>/dev/null
  install-kind-on-linux:
    cmds:
    - sudo bash -eux install-kind-on-linux.sh
    deps:
    - install-curl-on-linux
    - install-jq-on-linux
    status:
    - command -v kind >/dev/null
  install-krew-on-linux:
    cmds:
    - sudo bash -eux install-krew-on-linux.sh
    deps:
    - install-kubectl-on-linux
    - install-curl-on-linux
    status:
    - test -x ~/.krew/bin/kubectl-krew
  install-kubectl-konfig-plugin:
    cmds:
    - sudo bash -eux install-kubectl-konfig-plugin.sh
    deps:
    - install-krew-on-linux
    status:
    - test -x ~/.krew/store/konfig/v*/konfig-krew &>/dev/null
  install-kubectl-on-linux:
    cmds:
    - sudo bash -eux install-kubectl-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - command -v kubectl >/dev/null
  install-kubectl-stern-plugin:
    cmds:
    - sudo bash -eux install-kubectl-stern-plugin.sh
    deps:
    - install-git-on-linux
    - install-krew-on-linux
    status:
    - test -x ~/.krew/store/stern/v*/stern &>/dev/null
  install-kustomize-on-linux:
    cmds:
    - sudo bash -eux install-kustomize-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - kustomize version >/dev/null
  install-pip3-on-linux:
    cmds:
    - task: apt-yum-update
    - task: install-python3-on-linux
    - sudo bash -eux install-pip3-on-linux.sh
    status:
    - command -v pip3 >/dev/null
  install-pssh-on-linux:
    cmds:
    - sudo bash -eux install-pssh-on-linux.sh
    deps:
    - apt-yum-update
    status:
    - parallel-ssh --version >/dev/null
  install-python3-on-linux:
    cmds:
    - sudo bash install-python3-on-linux.sh
    status:
    - python3 --version >/dev/null
  install-python3-pip-on-ubuntu:
    cmds:
    - sudo bash install-python3-pip-on-ubuntu.sh
    status:
    - command -v pip >/dev/null
  install-ripgrep-on-linux:
    cmds:
    - sudo bash -eux install-ripgrep-on-linux.sh
    deps:
    - install-curl-on-linux
    - install-jq-on-linux
    status:
    - command -v rg >/dev/null
  install-sops-on-linux:
    cmds:
    - sudo bash -eux install-sops-on-linux.sh
    deps:
    - install-curl-on-linux
    - install-jq-on-linux
    status:
    - command -v sops >/dev/null
  install-terraform-on-linux:
    cmds:
    - sudo bash -eux install-terraform-on-linux.sh
    deps:
    - install-unzip-on-linux
    - install-curl-on-linux
    status:
    - terraform -version >/dev/null
  install-terraform-on-ubuntu:
    cmds:
    - sudo bash -eux install-terraform-on-ubuntu.sh
    deps:
    - install-curl-on-linux
    - install-gpg-on-linux
    status:
    - terraform -version >/dev/null
  run-kindsealion-on-linux:
    run: once
    cmds:
    - task: install-git-on-linux
    - task: install-incus-on-linux
    - task: install-pip3-on-linux
    - sudo bash -eux run-kindsealion-on-linux.sh
    deps:
    - install-curl-on-linux
    - install-go-task-on-linux
    - install-packer-on-linux
    status:
    - command -v kindsealion &>/dev/null
  install-mlocate-on-linux:
    cmds:
    - sudo bash -eux install-mlocate-on-linux.sh
    deps:
    - apt-yum-update
    status:
    - command -v updatedb >/dev/null
  install-terragrunt-on-ubuntu:
    cmds:
    - sudo bash -eux install-terragrunt-on-linux.sh
    deps:
    - install-curl-on-linux
    - install-terraform-on-ubuntu
    status:
    - command -v terragrunt >/dev/null
  install-tilt-on-linux:
    cmds:
    - sudo bash -eux install-tilt-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - tilt version >/dev/null
  install-silverdelay-on-linux:
    cmds:
    - task: install-docker-on-linux
    - task: install-git-on-linux
    - sudo bash -eux install-silverdelay-on-linux.sh
    deps:
    - install-mylime-on-linux
    status:
    - '! mylime newerthan 1d silverdelay'
  install-timoni-on-linux:
    cmds:
    - sudo bash -eux install-timoni-on-linux.sh
    deps:
    - install-arkade-on-linux
    status:
    - timoni version >/dev/null
  install-arkade-on-linux:
    cmds:
    - sudo bash -eux install-arkade-on-linux.sh
    deps:
    - install-curl-on-linux
    status:
    - arkade version >/dev/null
  install-curl-on-linux:
    run: once
    cmds:
    - sudo bash -eux install-curl-on-linux.sh
    status:
    - command -v curl &>/dev/null
  install-wget-on-linux:
    cmds:
    - sudo bash -eux install-wget-on-linux.sh
    deps:
    - install-gpg-on-linux
    status:
    - command -v wget >/dev/null
  apt-yum-update:
    cmds:
    - sudo bash -eux apt-yum-update.sh
    deps:
    - install-mylime-on-linux
    status:
    - '! mylime newerthan 5m apt-update'
  install-curl-on-ubuntu:
    cmds:
    - sudo bash -eux install-curl-on-ubuntu.sh
    deps:
    - apt-yum-update
    status:
    - dpkg -s curl &>/dev/null
  install-git-on-ubuntu:
    cmds:
    - sudo bash -eux install-git-on-ubuntu.sh
    deps:
    - apt-yum-update
    status:
    - dpkg -s git &>/dev/null
